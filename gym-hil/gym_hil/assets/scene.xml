<mujoco model="Scene">
    <include file="panda.xml"/>

    <option timestep=".002" noslip_iterations="5" noslip_tolerance="0"/>

    <statistic center="0.3 0 0.4" extent=".8"/>

    <visual>
      <headlight diffuse=".4 .4 .4" ambient=".5 .5 .5"/>
      <global azimuth="160" elevation="-20" offheight="128" offwidth="128"/>
      <quality offsamples="8"/>
    </visual>

    <asset>
      <texture type="skybox" builtin="gradient" rgb1=".3 .5 .7" rgb2="0 0 0" width="32" height="512"/>
      <texture name="grid" type="2d" builtin="checker" width="512" height="512" rgb1=".1 .2 .3" rgb2=".2 .3 .4"/>
      <material name="grid" texture="grid" texrepeat="2 2" texuniform="true" reflectance="0"/>
    </asset>

    <worldbody>
      <camera name="front" pos="1.3 0.0 0.7" quat="0.5963678 0.3799282 0.3799282 0.5963678" fovy="45"/>
      <light pos="0 0 3" dir="0 0 -1" diffuse="1 1 1" specular=".3 .3 .3"/>
      <light pos="0 -.5 .4" mode="targetbodycom" target="block" diffuse=".8 .8 .8" specular=".3 .3 .3"/>
      <light pos="0 0 1.5" dir="0 0 -1" directional="true"/>
      <geom name="floor" size="3 3 0.01" type="plane" material="grid"/>

      <!-- Box (main block for environment) -->
      <body name="block" pos="0.4 -0.2 0.025">
        <freejoint name="block"/>
        <geom name="block" type="box" size=".025 .025 .025" mass="0.1" rgba=".8 .2 .2 1"/>
      </body>

      <!-- Sphere -->
      <body name="sphere_shape" pos="0.4 -0.1 0.025">
        <freejoint name="sphere_joint"/>
        <geom name="sphere" type="sphere" size=".025" mass="0.1" rgba=".2 .8 .2 1"/>
      </body>

      <!-- Cylinder -->
      <body name="cylinder_shape" pos="0.4 0.0 0.025">
        <freejoint name="cylinder_joint"/>
        <geom name="cylinder" type="cylinder" size=".02 .025" mass="0.1" rgba=".2 .2 .8 1"/>
      </body>

      <!-- Capsule -->
      <body name="capsule_shape" pos="0.4 0.1 0.025">
        <freejoint name="capsule_joint"/>
        <geom name="capsule" type="capsule" size=".015 .025" mass="0.1" rgba=".8 .8 .2 1"/>
      </body>

      <!-- Ellipsoid -->
      <body name="ellipsoid_shape" pos="0.4 0.2 0.025">
        <freejoint name="ellipsoid_joint"/>
        <geom name="ellipsoid" type="ellipsoid" size=".03 .02 .015" mass="0.1" rgba=".8 .2 .8 1"/>
      </body>

      <!-- Rotated Cylinder (for roof-like effect) -->
      <body name="rotated_cylinder" pos="0.6 -0.2 0.025">
        <freejoint name="rotated_cylinder_joint"/>
        <geom name="rot_cylinder" type="cylinder" size=".02 .03" quat="0.7071 0 0.7071 0" mass="0.1" rgba=".5 .8 .5 1"/>
      </body>

      <!-- Rotated Box (wedge-like) -->
      <body name="rotated_box" pos="0.6 -0.1 0.025">
        <freejoint name="rotated_box_joint"/>
        <geom name="rot_box" type="box" size=".02 .03 .01" quat="0.7071 0.7071 0 0" mass="0.1" rgba=".8 .5 .2 1"/>
      </body>

      <!-- Tall Cylinder -->
      <body name="tall_cylinder" pos="0.6 0.0 0.04">
        <freejoint name="tall_cylinder_joint"/>
        <geom name="tall_cyl" type="cylinder" size=".015 .04" mass="0.1" rgba=".2 .8 .8 1"/>
      </body>

      <!-- Flat Box -->
      <body name="flat_box" pos="0.6 0.1 0.01">
        <freejoint name="flat_box_joint"/>
        <geom name="flat" type="box" size=".03 .03 .005" mass="0.1" rgba=".8 .4 .6 1"/>
      </body>

      <!-- Small Sphere -->
      <body name="small_sphere" pos="0.6 0.2 0.015">
        <freejoint name="small_sphere_joint"/>
        <geom name="small_sph" type="sphere" size=".015" mass="0.05" rgba=".4 .6 .8 1"/>
      </body>

      <body name="target" pos=".15 0 .5" quat="0 1 0 0" mocap="true">
        <geom name="target" type="box" size=".03 .03 .03" contype="0" conaffinity="0" rgba=".6 .3 .3 0"/>
      </body>
    </worldbody>

    <sensor>
      <framepos name="block_pos" objtype="geom" objname="block"/>
      <framequat name="block_quat" objtype="geom" objname="block"/>
    </sensor>
  </mujoco>
